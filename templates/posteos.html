{% extends "layout.html" %}

{% block title %}Listado de Posts - MiniBlog{% endblock %}

{% block content %}
<h1>Todos los posteos</h1>

{% if posts %}
    <ul class="lista-posts">
    {% for post in posts %}
        <li class="post-item">
            <h2><a href="{{ url_for('ver_post', post_id=post.id) }}">{{ post.titulo }}</a></h2>
            <p class="meta">
                Por <strong>{{ post.autor.nombre_usuario }}</strong> | {{ post.fecha_creacion.strftime('%d/%m/%Y %H:%M') }}
            </p>
            <p class="extracto">
                {{ post.contenido[:150] }}{% if post.contenido|length > 150 %}...{% endif %}
            </p>
            <a href="{{ url_for('ver_post', post_id=post.id) }}" class="btn-ver-mas">Leer m√°s</a>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No hay posteos para mostrar.</p>
{% endif %}
{% endblock %}